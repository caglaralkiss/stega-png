import { populateWithOpacityValues } from '../util'

describe('Util', () => {
	test('should populate stego buffer with opacity values from original buffer', () => {
		const originalBuffer = Buffer.from([
			0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b,
			0x0c,
		])
		const stegoBuffer = Buffer.from([
			0xaa, 0xbb, 0xcc, 0xdd, 0xee, 0xff, 0xa1, 0xa2, 0xa3,
		])

		const stegoBufferWithOpacity = Buffer.from([
			0xaa, 0xbb, 0xcc, 0x04, 0xdd, 0xee, 0xff, 0x08, 0xa1, 0xa2, 0xa3,
			0x0c,
		])
		expect(populateWithOpacityValues(originalBuffer, stegoBuffer)).toEqual(
			stegoBufferWithOpacity
		)
	})
})
